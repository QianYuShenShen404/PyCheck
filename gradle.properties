# Gradle构建优化配置

# 设置Gradle JVM参数
org.gradle.jvmargs=-Xmx2048m -XX:MaxMetaspaceSize=512m -Dfile.encoding=UTF-8 -XX:+UseParallelGC

# 开启Gradle并行构建
org.gradle.parallel=false

# 开启Gradle配置缓存
org.gradle.configuration-cache=false

# 开启Gradle构建缓存
org.gradle.caching=true

# 开启Gradle守护进程
org.gradle.daemon=true

# 开启增量编译
org.gradle.incremental=false

# 启用新版本Android Gradle Plugin
android.useAndroidX=true
android.enableJetifier=true

# Kotlin编译器优化
kotlin.incremental=false
kotlin.compiler.execution.strategy=daemon
kotlin.daemon.jvm.options=-Xmx1536m,-XX:MaxMetaspaceSize=512m
kotlin.parallel.tasks.in.project=false
org.gradle.workers.max=1

# KAPT memory and performance tuning
kapt.incremental.apt=true
kapt.includeCompileClasspath=false
kapt.use.worker.api=true
kapt.verbose=true

# Android构建优化
# 注意: android.enableBuildCache 在 AGP 7.0+ 已废弃,请使用 org.gradle.caching=true 代替

# 禁用不必要的模块
android.defaults.buildfeatures.buildconfig=true
android.defaults.buildfeatures.aidl=false
android.defaults.buildfeatures.renderscript=false
android.defaults.buildfeatures.resvalues=false
android.defaults.buildfeatures.shaders=false

# 中国用户优化
# 强制使用settings.gradle.kts中的仓库配置
org.gradle.preferSettingsRepositories=true

# 强制使用HTTP
systemProp.http.socketTimeout=600000
systemProp.http.connectionTimeout=600000
